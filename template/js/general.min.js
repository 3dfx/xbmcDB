function darkSideOfTheForce(){$(".tabDiv").addClass("darkSide")}function getKeyCode(e){return(e=e||window.event).keyCode}function selSpanText(e){var t,n;window.getSelection&&document.createRange?(n=window.getSelection(),(t=document.createRange()).selectNodeContents($(e)[0]),n.removeAllRanges(),n.addRange(t)):document.selection&&document.body.createTextRange&&((t=document.body.createTextRange()).moveToElementText($(e)[0]),t.select())}function newMoviesAvailable(){gotoConfirmation()&&(window.location.href="./?show=filme&newmode=1&newsort=2&unseen=3&dbSearch&which&just&sort&mode&country")}function gotoConfirmation(){return confirm("New Movies in DB since last visit!\nDo yout want to check them now?")}function doRequest__(e,t){if(null!=document.getElementById("result")){var n=document.getElementById("copyAsScript"),c=null!=n&&n.checked?1:0;$.ajax({type:"POST",url:"request.php",data:"contentpage="+(e?"&isShow=1":"")+"&ids="+t+"&copyAsScript="+c,success:function(e){"-3"==e&&(alert("Session expired!"),setTimeout("location.reload(true);",150)),$("#result").html(e)}})}}function saveSelection(){unsaved=!1,saveSelection__(!1,ids)}function saveSelection__(e,t){if(null!=document.getElementById("result")){var n=document.getElementById("copyAsScript"),c=null!=n&&n.checked?1:0;$.ajax({type:"POST",url:"request.php",data:"contentpage="+(e?"&isShow=1":"")+"&ids="+t+"&copyAsScript="+c+"&forOrder=1",success:function(e){"1"==e?alert("Selection saved!"):"2"==e?alert("Selection appended!"):"-3"==e?(alert("Session expired!"),setTimeout("location.reload(true);",150)):alert("Error saving!")}})}}function selected(e,t,n,c){if(collectIds__(),null!=e){var l=$(e).parent().parent(),o=$(l).children("TD");e.checked?(unsaved=!0,o.addClass("highLighTR")):(unsaved=!0,o.removeClass("highLighTR"))}var a=document.getElementById("result"),i=document.getElementById("movieList");if(null!=i){var r=document.getElementById("clearSelectAll");return null==ids||""===ids?(i.style.display="none",a.innerHTML=""):i.style.display="block",t&&(r.checked=""!==ids),n&&doRequest(),!0}}function collectIds__(){ids="";for(var e=$("TD"),t=0;t<e.length;t++){var n=$(e[t]).find(".checka")[0];null!=n&&"checkbox"===n.type&&!n.disabled&&n.checked&&addId(n.value)}}function addId(e){-1===ids.search(e+",")&&-1===ids.search(", "+e)&&(ids=ids+(0===ids.length?"":", ")+e)}$(document).ready(function(){newMovies&&newMoviesAvailable(),$(document).keydown(function(e){if(e.ctrlKey&&"65"==e.keyCode&&(e.preventDefault(),$("#clearSelectAll").length)){var t=$("#clearSelectAll"),n=$(t).prop("checked");$(t).attr("checked",!n),t.checked=!n,clearSelectBoxes(t)}})});