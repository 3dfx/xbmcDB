function cursorBusy(e){$("body").css("cursor",e),$("#xbmcDB").css("cursor",e),$("td").css("cursor",e),$("a").css("cursor",e)}function openNav(e){closeNavs(),$(e).addClass("open")}function closeNavs(){$("#dropOptions").removeClass("open"),$("#dropViewmode").removeClass("open"),$("#dropLanguage").removeClass("open"),$("#dropAdmin").removeClass("open"),$("#dropSearch").removeClass("open")}function checkForCheck(){return null!=ids&&""!=ids?confirm("Attention:\nSelection will be lost!"):!0}function clearSelectBoxes(e){var n=document.getElementsByTagName("input"),r=null!=e?e.checked:!1;for(null==e&&$("#clearSelectAll").attr("checked",!1),i=0;i<n.length;i++){var l=n[i];null!=l&&"copyAsScript"!=l.id&&"clearSelectAll"!=l.id&&("checkbox"!=l.type||l.checked==r||l.disabled||(l.checked=r,selected(l,!1,!1,isAdmin)))}var t=document.getElementById("result"),c=document.getElementById("movieList");null!=c&&(doRequest(),c.style.display=r?"block":"none",r||(t.innerHTML="",ids=""))}function selected(e,n,r,l){var t=$(e).parent().parent();e.checked?(ids=ids+(0==ids.length?"":", ")+e.value,$(t).children("TD").addClass("highLighTR")):($(t).children("TD").removeClass("highLighTR"),-1!=ids.indexOf(e.value+", ")?ids=ids.replace(e.value+", ",""):-1!=ids.indexOf(", "+e.value)?ids=ids.replace(", "+e.value,""):-1==ids.indexOf(",")&&(ids=ids.replace(e.value,"")));var c=document.getElementById("result"),i=document.getElementById("movieList");if(null!=i){var s=document.getElementById("clearSelectAll");""==ids?(i.style.display="none",c.innerHTML=""):i.style.display="block",n&&(s.checked=""==ids?!1:!0),r&&doRequest()}}function doRequest(){doRequest__(!1,ids)}function saveSelection(){saveSelection__(!1,ids)}function collectIds(){ids="";for(var e=$("TR.searchFlag"),n=0;n<e.length;n++){var r=e[n],l=$(r).find(".checka")[0];!l.disabled&&l.checked&&(ids=ids+(0==ids.length?"":", ")+l.value)}}function newlyChange(){return checkForCheck()?($("body").css("cursor","wait"),void moviefrm.submit()):!1}function searchForString(e,n){var r=null==e?"":$.trim(e.value).toLowerCase();if(null!=e&&null!=n){var l=getKeyCode(n);if(13!=l)return!1}if($("span").removeHighlight(),""==r||r.length<3)return $("TR.searchFlag").show(),$("TR").find(".checka").removeAttr("disabled"),!1;for(var t=r.split(" "),c=$("TR.searchFlag"),i=0;i<c.length;i++){for(var s=c[i],o=0,d=!1,a=$(s).find(".searchField"),u=0;u<a.length;u++){var h=a[u];if(null!=h){var f=$.trim(h.innerHTML).toLowerCase();if(null!=f&&""!=f){for(var v=0;v<t.length;v++)if(f.indexOf(t[v])>=0){o++;break}if(o>=t.length){d=!0;break}}}}d?($(s).show(),$($(s).find(".checka")[0]).removeAttr("disabled")):($(s).hide(),$($(s).find(".checka")[0]).attr("disabled","disabled"),$($(s).find(".checka")[0]).attr("checked",!1))}for(var v=0;v<t.length;v++)$("span").highlight(t[v]);searchLength=r.length,collectIds(),doRequest()}function searchDbForString(e,n){if(null==e)return!1;var r=$.trim(e.value),l=getKeyCode(n);if(13!=l)return!1;if(!checkForCheck())return!1;var t="./?show=filme&dbSearch=";null!=r&&""!=r&&(t+=r),window.location.href=t}function resetDbSearch(){return checkForCheck()&&""!=$("#searchDBfor").val()?void(window.location.href="./?show=filme&dbSearch="):!1}function resetFilter(){$("#searchfor").val(""),searchForString(null,null)}var ids="",searchLength=0;$(document).ready(function(){$(".dropdown-toggle").dropdown(),$(".styled-select").select2(),$(".styled-select2").select2(),$(".select2-search").hide(),$(document).keydown(function(e){bindF&&e.ctrlKey&&"70"==e.keyCode&&(e.preventDefault(),openNav("#dropSearch"),$("#searchDBfor").focus()),isAdmin||e.ctrlKey&&"83"==e.keyCode&&(e.preventDefault(),saveSelection())})});