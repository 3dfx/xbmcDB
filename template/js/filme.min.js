var ids="",unsaved=!1,searchLength=0;function cursorBusy(e){$("body").css("cursor",e),$("#xbmcDB").css("cursor",e),$("td").css("cursor",e),$("a").css("cursor",e),$("a.nopo, a.fancy_msgbox, li.dropdown-submenu>a").css("cursor",""===e?"default":e)}function openNav(e,n){openNav_(e)}function openNav_(e){!(window.innerWidth<980)&&(closeNavs(e),$(e).addClass("open"))}function closeNavs(e){if(window.innerWidth<980)return;let n=["#dropOptions","#dropLanguage","#dropAdmin","#dropSearch","#dropViewmode"];for(let r=0;r<n.length;r++)!(null!=e&&""!==e&&e===n[r]||isAdmin&&"#dropViewmode"===e)&&$(n[r]).removeClass("open")}function checkForCheck(){return!unsaved||null==ids||""===ids||confirm("Attention:\nUnsaved selection will be lost!")}function clearSelectBoxes(e){var n=document.getElementsByTagName("input"),r=null!=e&&e.checked;for(null==e&&$("#clearSelectAll").attr("checked",!1),i=0;i<n.length;i++){var t=n[i];null!=t&&"copyAsScript"!==t.id&&"clearSelectAll"!==t.id&&("checkbox"!==t.type||t.checked===r||t.disabled||(t.checked=r,selected(t,!1,!1,isAdmin)))}var l=document.getElementById("result"),c=document.getElementById("movieList");null!=c&&(doRequest(),c.style.display=r?"block":"none",r||(l.innerHTML="",ids=""))}function doRequest(){doRequest__(!1,ids)}function collectIds(){ids="";for(var e=$("TR.searchFlag"),n=0;n<e.length;n++){var r=$(e[n]).find(".checka")[0];!r.disabled&&r.checked&&addId(r.value)}}function newlyChange(){if(!checkForCheck())return!1;$("body").css("cursor","wait"),moviefrm.submit()}function showCheckBoxes(){$(".tHidden").length>0?$(".tHidden").removeClass("tHidden").addClass("tHidden_"):$(".tHidden_").removeClass("tHidden_").addClass("tHidden")}function searchForString(e,n){var r=null==e?"":$.trim(e.value).toLowerCase();if(null!=e&&null!=n&&13!==getKeyCode(n))return!1;if($("span").removeHighlight(),""===r||r.length<3)return $("TR.searchFlag").show(),$("TR").find(".checka").removeAttr("disabled"),!1;for(var t=r.split(" "),l=$("TR.searchFlag"),c=0;c<l.length;c++){for(var o=l[c],s=0,a=!1,d=$(o).find(".searchField"),h=0;h<d.length;h++){var u=d[h];if(null!=u){var f=$.trim(u.innerHTML).toLowerCase();if(null!=f&&""!==f){for(var v=0;v<t.length;v++)if(f.indexOf(t[v])>=0){s++;break}if(s>=t.length){a=!0;break}}}}a?($(o).show(),$($(o).find(".checka")[0]).removeAttr("disabled")):($(o).hide(),$($(o).find(".checka")[0]).attr("disabled","disabled"),$($(o).find(".checka")[0]).attr("checked",!1))}for(var v=0;v<t.length;v++)$("span").highlight(t[v]);searchLength=r.length,collectIds(),doRequest()}function searchDbForString(e,n){if(null==e)return!1;var r=$.trim(e.value);if(13!=getKeyCode(n)||!checkForCheck())return!1;var t="./?show=filme&dbSearch=";null!=r&&""!==r&&(t+=r),window.location.href=t}function resetDbSearch(){if(!checkForCheck()||""===$("#searchDBfor").val())return!1;window.location.href="./?show=filme&dbSearch="}function resetFilter(){$("#searchfor").val(""),searchForString(null,null)}$(document).ready(function(){$(".dropdown-toggle").dropdown(),$(".styled-select").select2(),$(".styled-select2").select2(),$(".select2-search").hide(),$(document).keydown(function(e){bindF&&e.ctrlKey&&"70"==e.keyCode&&(e.preventDefault(),openNav("#dropSearch"),$("#searchDBfor").focus()),!isAdmin&&e.ctrlKey&&"83"==e.keyCode&&(e.preventDefault(),saveSelection())})});