var ids="",unsaved=!1,searchLength=0;function cursorBusy(e){$("body").css("cursor",e),$("#xbmcDB").css("cursor",e),$("td").css("cursor",e),$("a").css("cursor",e)}function openNav(e,r){openNav_(e)}function openNav_(e){!(window.innerWidth<980)&&(closeNavs(e),$(e).addClass("open"))}function closeNavs(e){if(window.innerWidth<980)return;let r=["#dropOptions","#dropLanguage","#dropAdmin","#dropSearch","#dropViewmode"];for(let n=0;n<r.length;n++)!(null!=e&&""!==e&&e===r[n]||isAdmin&&"#dropViewmode"===e)&&$(r[n]).removeClass("open")}function checkForCheck(){return!unsaved||null==ids||""===ids||confirm("Attention:\nUnsaved selection will be lost!")}function clearSelectBoxes(e){var r=document.getElementsByTagName("input"),n=null!=e&&e.checked;for(null==e&&$("#clearSelectAll").attr("checked",!1),i=0;i<r.length;i++){var t=r[i];null!=t&&"copyAsScript"!==t.id&&"clearSelectAll"!==t.id&&("checkbox"!==t.type||t.checked===n||t.disabled||(t.checked=n,selected(t,!1,!1,isAdmin)))}var c=document.getElementById("result"),l=document.getElementById("movieList");null!=l&&(doRequest(),l.style.display=n?"block":"none",n||(c.innerHTML="",ids=""))}function doRequest(){doRequest__(!1,ids)}function collectIds(){ids="";for(var e=$("TR.searchFlag"),r=0;r<e.length;r++){var n=$(e[r]).find(".checka")[0];!n.disabled&&n.checked&&addId(n.value)}}function newlyChange(){if(!checkForCheck())return!1;$("body").css("cursor","wait"),moviefrm.submit()}function searchForString(e,r){var n=null==e?"":$.trim(e.value).toLowerCase();if(null!=e&&null!=r&&13!==getKeyCode(r))return!1;if($("span").removeHighlight(),""===n||n.length<3)return $("TR.searchFlag").show(),$("TR").find(".checka").removeAttr("disabled"),!1;for(var t=n.split(" "),c=$("TR.searchFlag"),l=0;l<c.length;l++){for(var o=c[l],a=0,s=!1,d=$(o).find(".searchField"),h=0;h<d.length;h++){var u=d[h];if(null!=u){var f=$.trim(u.innerHTML).toLowerCase();if(null!=f&&""!==f){for(var v=0;v<t.length;v++)if(f.indexOf(t[v])>=0){a++;break}if(a>=t.length){s=!0;break}}}}s?($(o).show(),$($(o).find(".checka")[0]).removeAttr("disabled")):($(o).hide(),$($(o).find(".checka")[0]).attr("disabled","disabled"),$($(o).find(".checka")[0]).attr("checked",!1))}for(var v=0;v<t.length;v++)$("span").highlight(t[v]);searchLength=n.length,collectIds(),doRequest()}function searchDbForString(e,r){if(null==e)return!1;var n=$.trim(e.value);if(13!=getKeyCode(r)||!checkForCheck())return!1;var t="./?show=filme&dbSearch=";null!=n&&""!==n&&(t+=n),window.location.href=t}function resetDbSearch(){if(!checkForCheck()||""===$("#searchDBfor").val())return!1;window.location.href="./?show=filme&dbSearch="}function resetFilter(){$("#searchfor").val(""),searchForString(null,null)}$(document).ready(function(){$(".dropdown-toggle").dropdown(),$(".styled-select").select2(),$(".styled-select2").select2(),$(".select2-search").hide(),$(document).keydown(function(e){bindF&&e.ctrlKey&&"70"==e.keyCode&&(e.preventDefault(),openNav("#dropSearch"),$("#searchDBfor").focus()),!isAdmin&&e.ctrlKey&&"83"==e.keyCode&&(e.preventDefault(),saveSelection())})});