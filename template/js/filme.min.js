var ids="",unsaved=!1,searchLength=0;function cursorBusy(e){$("body").css("cursor",e),$("#xbmcDB").css("cursor",e),$("td").css("cursor",e),$("a").css("cursor",e)}function openNav(e){closeNavs(),$(e).addClass("open")}function closeNavs(){$("#dropOptions").removeClass("open"),$("#dropViewmode").removeClass("open"),$("#dropLanguage").removeClass("open"),$("#dropAdmin").removeClass("open"),$("#dropSearch").removeClass("open")}function checkForCheck(){return!unsaved||(null==ids||""===ids||confirm("Attention:\nUnsaved selection will be lost!"))}function clearSelectBoxes(e){var r=document.getElementsByTagName("input"),n=null!=e&&e.checked;for(null==e&&$("#clearSelectAll").attr("checked",!1),i=0;i<r.length;i++){var c=r[i];null!=c&&("copyAsScript"!==c.id&&"clearSelectAll"!==c.id&&("checkbox"!==c.type||c.checked===n||c.disabled||(c.checked=n,selected(c,!1,!1,isAdmin))))}var o=document.getElementById("result"),t=document.getElementById("movieList");null!=t&&(doRequest(),t.style.display=n?"block":"none",n||(o.innerHTML="",ids=""))}function doRequest(){doRequest__(!1,ids)}function collectIds(){ids="";for(var e=$("TR.searchFlag"),r=0;r<e.length;r++){var n=e[r],c=$(n).find(".checka")[0];!c.disabled&&c.checked&&addId(c.value)}}function newlyChange(){if(!checkForCheck())return!1;$("body").css("cursor","wait"),moviefrm.submit()}function searchForString(e,r){var n=null==e?"":$.trim(e.value).toLowerCase();if(null!=e&&null!=r&&13!==getKeyCode(r))return!1;if($("span").removeHighlight(),""===n||n.length<3)return $("TR.searchFlag").show(),$("TR").find(".checka").removeAttr("disabled"),!1;for(var c=n.split(" "),o=$("TR.searchFlag"),t=0;t<o.length;t++){for(var l=o[t],s=0,i=!1,a=$(l).find(".searchField"),d=0;d<a.length;d++){var u=a[d];if(null!=u){var h=$.trim(u.innerHTML).toLowerCase();if(null!=h&&""!==h){for(var f=0;f<c.length;f++)if(h.indexOf(c[f])>=0){s++;break}if(s>=c.length){i=!0;break}}}}i?($(l).show(),$($(l).find(".checka")[0]).removeAttr("disabled")):($(l).hide(),$($(l).find(".checka")[0]).attr("disabled","disabled"),$($(l).find(".checka")[0]).attr("checked",!1))}for(f=0;f<c.length;f++)$("span").highlight(c[f]);searchLength=n.length,collectIds(),doRequest()}function searchDbForString(e,r){if(null==e)return!1;var n=$.trim(e.value);if(13!=getKeyCode(r))return!1;if(!checkForCheck())return!1;var c="./?show=filme&dbSearch=";null!=n&&""!==n&&(c+=n),window.location.href=c}function resetDbSearch(){if(!checkForCheck()||""===$("#searchDBfor").val())return!1;window.location.href="./?show=filme&dbSearch="}function resetFilter(){$("#searchfor").val(""),searchForString(null,null)}$(document).ready(function(){$(".dropdown-toggle").dropdown(),$(".styled-select").select2(),$(".styled-select2").select2(),$(".select2-search").hide(),$(document).keydown(function(e){bindF&&e.ctrlKey&&"70"==e.keyCode&&(e.preventDefault(),openNav("#dropSearch"),$("#searchDBfor").focus()),isAdmin||e.ctrlKey&&"83"==e.keyCode&&(e.preventDefault(),saveSelection())})});